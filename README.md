# 体育馆场地管理系统

## 项目说明

该项目为体育馆场地管理系统，结合校体育馆现有平台对其进行完善，使用SpringBoot+Vue搭建，MyBatis+RabbitMq+Spring Security+锁+邮件服务+定时任务等技术。

* 该项目前后端采用json数据格式交互，实现前后端分离，但并不是完全的前后端分离，只是用了vue做模板引擎，jquery+vue
* 该项目为了跳转更方便使用了Thymeleaf
* 该项目分为用户和管理员两个部分，使用了两个端口，操作同一个数据库
* 这里订单ID生成使用了雪花算法，uuid也行
* 由于前后端分离，项目加载速度快了很多，如果页面加载增加redis作为缓存会更好
* 使用了更好地框架进行搭建，更方便简单
* 项目的主要业务逻辑增加，主要是加锁和异步邮件，以及事务控制的问题

## 项目演示地址

该项目已上传到华为云服务器上，


## 项目截图

部分项目截图在images文件夹下

## 功能

用户部分：

* 登录、注册、修改密码、注销登录
* 首页场馆类型详情展示
* 场地预约
* 会员管理
* 通知信息展示
* 个人中心查询订单(支持模糊查询)
* 打印订单，导出订单信息
* 异步邮件发送
* 事务控制
* 双重检验锁控制线程安全

管理员部分：

* 登录、注销
* 总览
* 场地管理
* 会员管理
* 预约查询
* 通知发布
* 情况分析

## 技术栈

* SpringBoot+Vue搭建
* MyBatis+mysql+durid
* 消息队列RabbitMq
* 定时任务
* Spring Security
* 线程同步锁
* apache的poi文件导出api

## 安装

### 1、下载项目到本地

```
https://github.com/ccccc00/gym-system.git
```

### 2. 导入项目

该项目是用idea创建的，可以直接导入到idea中，导入后可以直接运行

### 3.设置durid连接数据库

* 将`gms.sql`中的sql文件运行，并修改对应的配置文件durid

* 具体设置在`application.properties`里修改，如果出现乱码请修改编码

### 4.修改application.properties

* 在`application.properties`配置文件中修改成自己的qq和stmp的密码
* 其他信息可以根据自己需要修改

### 5.下载rabbitmq消息队列

我使用的是**rabbitmq3.6.9** 和**erlang8.3**直接在windows上安装的

### 6.启动项目

* 因为前端是ajax访问的，所以日期不对的话下面的场馆表格是不会加载的，gms.sql的日期是2023-06-01，你有两种办法解决这个问题
  1. 通过修改`index.html`里面的日期即可，具体位置在js代码的第一个部分，注释掉获取当天日期的函数，手动设置三个参数(以普通用户为例)，
     var nowday = "2023-x-xx";
     var nextday = "2023-x-xx";
     var nextnextday = "2023-8=x-xx";
  2. 项目中有一个cpp文件，该文件打开后可以根据你设置的日期，生成sql语句，可以直接生成需要天数的数据然后修改sql文件，以生成一个月的数据为例，普通用户前台只显示3天的数据，会员显示七天的数据，但是由于管理员部分的数据分析需要，默认会生成31天的sql，比如今天是2023-6-3，可以修改cpp文件中的变量 prdate = 2 提前一天
* 这样操作后你就可以成功运行了

## 最后

有问题的话可以邮件联系：851725429@qq.com
